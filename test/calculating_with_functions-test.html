<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="../libs/qunit.css"/>
    <script type="text/javascript" src="../libs/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="../libs/qunit.js"></script>
    <script type="text/javascript">
        /**
         * This time we want to write calculations using functions and get the results. Let's have a look at some examples:

         seven(times(five())); // must return 35
         ---four(plus(nine())); // must return 13
         eight(minus(three())); // must return 5
         six(dividedBy(two())); // must return 3
         Requirements:

         There must be a function for each number from 0 ("zero") to 9 ("nine")
         There must be a function for each of the following mathematical operations: plus, minus, times, dividedBy (divided_by in Ruby)
         Each calculation consist of exactly one operation and two numbers
         The most outer function represents the left operand, the most inner function represents the right operand
         */
        function operand(value, expression) {
            return expression && expression(value) || value;
        }
        function zero(expression) {
            return operand(0, expression);
        }
        function one(expression) {
            return operand(1, expression);
        }
        function two(expression) {
            return operand(2, expression);
        }
        function three(expression) {
            return operand(3, expression);
        }
        function four(expression) {
            return operand(4, expression);
        }
        function five(expression) {
            return operand(5, expression);
        }
        function six(expression) {
            return operand(6, expression);
        }
        function seven(expression) {
            return operand(7, expression);
        }
        function eight(expression) {
            return operand(8, expression);
        }
        function nine(expression) {
            return operand(9, expression);
        }

        function plus(addend) {
            return function (augend) {
                return augend + addend;
            };
        }
        function minus(subtractor) {
            return function (subtrahend) {
                return subtrahend - subtractor;
            };
        }
        function times(operand) {
            return -operand;
        }
    </script>
    <script type="text/javascript">
        module("calculations using functions");
        test("digits", function () {
            equal(zero(), 0);
            equal(one(), 1);
            equal(two(), 2);
            equal(three(), 3);
            equal(four(), 4);
            equal(five(), 5);
            equal(six(), 6);
            equal(seven(), 7);
            equal(eight(), 8);
            equal(nine(), 9);
        });
        test("plus", function () {
            equal(four(plus(nine())), 13);
            equal(nine(plus(four())), 13);
        });
        test("minus", function () {
            equal(nine(minus(four())), 5);
        });
        test('minus type', function () {
            equal(typeof minus(four()), 'function');
            equal(minus(four())(9), 5);
        });
    </script>
</head>
<body>
<div id="qunit"></div>
</body>
</html>