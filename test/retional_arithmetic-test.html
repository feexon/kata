<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="../libs/qunit.css"/>
    <script type="text/javascript" src="../libs/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="../libs/qunit.js"></script>
    <script type="text/javascript" src="../libs/qunit-extras.js"></script>
    <script type="text/javascript">
        /**
         *
         */

        function gcd(m, n) {
            if (n == 0) {
                return m;
            }
            return gcd(n, m % n);
        }
        function lcm(m, n) {
            return m * n / gcd(m, n);
        }
        function Retional(numerator, denominator) {
            this.numerator = numerator;
            this.denominator = denominator;
            this.simplify = function () {
                var m = gcd(this.numerator, this.denominator);
                this.numerator /= m;
                this.denominator /= m;
            };
            this.equals = function (other) {
                return this.reduce(other) == other.reduce(this);
            };
            this.reduce = function (other) {
                return this.numerator * other.denominator / gcd(this.denominator, other.denominator);
            };

            this.lessThan = function (other) {
                return this.reduce(other) < other.reduce(this);
            };
            this.lessThanOrEquals = function (other) {
                return this.reduce(other) <= other.reduce(this);
            };
            this.toString = function () {
                return [this.numerator, this.denominator].join('/');
            };
            this.simplify();
        }
        function retional(numerator, denominator) {
            return new Retional(numerator, denominator);
        }
    </script>
    <script type="text/javascript">
        module('Rational Arithmetic');
        test('gcd', function () {
            equal(gcd(5, 0), 5);
            equal(gcd(0, 5), 5);
            equal(gcd(1, 5), 1);
            equal(gcd(4, 6), 2);
        });
        test('lcm', function () {
            equal(lcm(5, 2), 10);
            equal(lcm(6, 4), 12);
        });
        test('equality', function () {
            ok(retional(3, 5).equals(retional(3, 5)));
            ok(!retional(1, 5).equals(retional(3, 5)));
            ok(!retional(3, 7).equals(retional(3, 5)));
        });
        test('simplify', function () {
            ok(retional(1, 3).equals(retional(1, 3)));
            ok(retional(5, 10).equals(retional(1, 2)));
        });
        test('negative', function () {
            ok(retional(-1, 3).equals(retional(-1, 3)));
            ok(retional(1, -3).equals(retional(-1, 3)));
        });
        test('toString', function () {
            equal(retional(1, 3).toString(), '1/3');
            equal(retional(-2, 5).toString(), '-2/5');
        });
        test('lessThan', function () {
            ok(retional(1, 3).lessThan(retional(2, 3)));
            ok(!retional(1, 3).lessThan(retional(1, 3)));
            ok(!retional(3, 5).lessThan(retional(1, 5)));
            ok(retional(3, 10).lessThan(retional(1, 2)));
            ok(!retional(1, 2).lessThan(retional(3, 10)));
        });
        test('lessThanOrEquals', function () {
            ok(retional(1, 3).lessThanOrEquals(retional(2, 3)));
            ok(retional(1, 3).lessThanOrEquals(retional(1, 3)));
            ok(!retional(3, 5).lessThanOrEquals(retional(1, 5)));
        });

    </script>
</head>
<body>
<div id="qunit"></div>
</body>
</html>